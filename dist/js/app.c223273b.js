(function(){var e={2634:function(){},4508:function(e,a,t){"use strict";e.exports=t.p+"img/background_lg.905db7eb.jpg"},5772:function(e,a,t){"use strict";var l=t(5130),n=t(6768);function o(e,a,t,l,o,s){const i=(0,n.g2)("router-view");return(0,n.uX)(),(0,n.Wv)(n.PR,null,[(0,n.bF)(i)],1024)}var s={name:"App",components:{}},i=t(1241);const u=(0,i.A)(s,[["render",o]]);var r=u,c=t(1387),d=t(144),p=t(8569);const m={style:{width:"100%",height:"500px"}};var g={__name:"ImageCut",setup(e){(0,n.pM)({name:"ImageCut"});const a=(0,d.KR)(""),t=(0,d.KR)(null),l=e=>{const t=new FileReader;t.onload=e=>{a.value=e.target.result},t.readAsDataURL(e.raw)},o=()=>{t.value&&t.value.getCropData((e=>{const a=document.createElement("a");a.href=e,a.download="cropped-image.png",document.body.appendChild(a),a.click(),document.body.removeChild(a)}))};return(e,s)=>{const i=(0,n.g2)("el-button"),u=(0,n.g2)("el-upload");return(0,n.uX)(),(0,n.CE)("div",m,[(0,n.bF)((0,d.R1)(p.EJ),{autoCrop:"",img:a.value,ref_key:"cropperRef",ref:t,centerBox:""},null,8,["img"]),(0,n.bF)(u,{class:"upload-demo",action:"https://jsonplaceholder.typicode.com/posts/","on-change":l,"auto-upload":!1,"show-file-list":!1},{default:(0,n.k6)((()=>[""===a.value?((0,n.uX)(),(0,n.Wv)(i,{key:0,size:"small",type:"primary"},{default:(0,n.k6)((()=>s[0]||(s[0]=[(0,n.eW)("上传图片")]))),_:1})):((0,n.uX)(),(0,n.Wv)(i,{key:1,size:"small",type:"primary"},{default:(0,n.k6)((()=>s[1]||(s[1]=[(0,n.eW)("重新上传")]))),_:1}))])),_:1}),a.value?((0,n.uX)(),(0,n.Wv)(i,{key:0,size:"small",type:"primary",onClick:o},{default:(0,n.k6)((()=>s[2]||(s[2]=[(0,n.eW)("下载")]))),_:1})):(0,n.Q3)("",!0)])}}};const v=g;var k=v;t(6573),t(8100),t(7936),t(7467),t(4732),t(9577),t(4979),t(4603),t(7566),t(8721);const b={key:0},h=["v-slot"],A={key:1},f=["src"];var w={__name:"ImageCompress",setup(e){(0,n.pM)({name:"ImageCompress"});const a=(0,d.KR)(""),t=(0,d.KR)(""),l=e=>{const t=new FileReader;t.onload=e=>{a.value=e.target.result},t.readAsDataURL(e.raw)},o=()=>{if(!a.value)return;const e=s(a.value),l=new Image;l.src=URL.createObjectURL(e),l.onload=()=>{const e=document.createElement("canvas"),a=e.getContext("2d");e.width=l.width,e.height=l.height,a.drawImage(l,0,0),e.toBlob((e=>{const a=URL.createObjectURL(e);console.log("压缩后的图片URL:",a),i(a)}),"image/jpeg",t)}},s=e=>{const a=e.split(","),t=a[0].match(/:(.*?);/)[1],l=atob(a[1]);let n=l.length;const o=new Uint8Array(n);while(n--)o[n]=l.charCodeAt(n);return new Blob([o],{type:t})},i=e=>{const a=document.createElement("a");a.href=e,a.download="compressed_image.jpg",document.body.appendChild(a),a.click(),document.body.removeChild(a)};return(e,t)=>{const s=(0,n.g2)("el-upload"),i=(0,n.g2)("el-button");return(0,n.uX)(),(0,n.CE)(n.FK,null,[""===a.value?((0,n.uX)(),(0,n.CE)("div",b,[(0,n.bF)(s,{class:"upload-demo",drag:"",action:"https://jsonplaceholder.typicode.com/posts/","on-change":l,"auto-upload":!1,multiple:""},{default:(0,n.k6)((()=>[t[0]||(t[0]=(0,n.Lk)("i",{class:"el-icon-upload"},null,-1)),t[1]||(t[1]=(0,n.Lk)("div",{class:"el-upload__text"},[(0,n.eW)("将文件拖到此处，或"),(0,n.Lk)("em",null,"点击上传")],-1)),(0,n.Lk)("div",{class:"el-upload__tip","v-slot":e.tip},"只能上传jpg/png文件，且不超过500kb",8,h)])),_:1})])):(0,n.Q3)("",!0),a.value?((0,n.uX)(),(0,n.CE)("div",A,[(0,n.Lk)("img",{class:"copimg",style:{height:"500px",width:"250"},src:a.value},null,8,f),(0,n.bF)(s,{class:"upload-demo",action:"https://jsonplaceholder.typicode.com/posts/","on-change":l,"auto-upload":!1,"show-file-list":!1},{default:(0,n.k6)((()=>[(0,n.bF)(i,{size:"small",type:"primary"},{default:(0,n.k6)((()=>t[2]||(t[2]=[(0,n.eW)("重新上传")]))),_:1})])),_:1}),(0,n.bF)(i,{size:"small",type:"primary",onClick:o},{default:(0,n.k6)((()=>t[3]||(t[3]=[(0,n.eW)("压缩并下载")]))),_:1})])):(0,n.Q3)("",!0)],64)}}};const L=(0,i.A)(w,[["__scopeId","data-v-81c81556"]]);var y=L,C=t(7477);const F={class:"watermark-container"},E={class:"upload-section"},R={key:0,class:"settings-panel"},x={class:"setting-item"},V={class:"setting-item"},U={class:"setting-item"},I={key:0,class:"setting-item"},W={key:1,class:"setting-item"},_={class:"setting-item"},B={class:"setting-item"},K={class:"setting-item"},S={key:1,class:"preview-area"},Q={class:"preview-container"},T=["src"],X={class:"action-buttons"};var O={__name:"WaterMark",setup(e){const a=(0,d.KR)(""),t=(0,d.KR)("阿松图片大师"),l=(0,d.KR)("#FFFFFF"),o=(0,d.KR)("bottom-right"),s=(0,d.KR)(24),i=(0,d.KR)(.7),u=(0,d.KR)(null),r=(0,d.KR)(""),c=(0,d.KR)("single"),p=(0,d.KR)(100),m=(0,d.KR)(-15),g=e=>{const t=new FileReader;t.onload=e=>{a.value=e.target.result,v()},t.readAsDataURL(e.raw)},v=()=>{if(!a.value)return;const e=new Image;e.onload=()=>{const a=u.value.getContext("2d");u.value.width=e.width,u.value.height=e.height,a.drawImage(e,0,0),a.font=`${s.value}px "SF Pro Display", "Helvetica Neue", Arial, sans-serif`,a.fillStyle=l.value,a.globalAlpha=i.value,"single"===c.value?k(a,e.width,e.height):b(a,e.width,e.height),r.value=u.value.toDataURL("image/png")},e.src=a.value},k=(e,a,l)=>{const n=30,i=e.measureText(t.value).width;let u,r;switch(o.value){case"top-left":u=n,r=s.value+n;break;case"top-right":u=a-i-n,r=s.value+n;break;case"center":u=(a-i)/2,r=l/2;break;case"bottom-left":u=n,r=l-n;break;case"bottom-right":u=a-i-n,r=l-n;break}e.save(),e.translate(u,r),e.rotate(m.value*Math.PI/180),e.fillText(t.value,0,0),e.restore()},b=(e,a,l)=>{const n=p.value,o=Math.ceil(a/n)+1,i=Math.ceil(l/n)+1;for(let u=0;u<i;u++)for(let a=0;a<o;a++){const l=a*n,o=u*n+s.value;e.save(),e.translate(l,o),e.rotate(m.value*Math.PI/180),e.fillText(t.value,0,0),e.restore()}},h=()=>{const e=document.createElement("a");e.download="watermarked-image.png",e.href=r.value,document.body.appendChild(e),e.click(),document.body.removeChild(e)};return(0,n.wB)([t,l,s,i,o,c,p,m],(()=>{a.value&&v()}),{deep:!0}),(e,k)=>{const b=(0,n.g2)("el-icon"),A=(0,n.g2)("el-button"),f=(0,n.g2)("el-upload"),w=(0,n.g2)("el-radio"),L=(0,n.g2)("el-radio-group"),y=(0,n.g2)("el-input"),O=(0,n.g2)("el-color-picker"),j=(0,n.g2)("el-option"),D=(0,n.g2)("el-select"),P=(0,n.g2)("el-slider");return(0,n.uX)(),(0,n.CE)("div",F,[(0,n.Lk)("div",E,[(0,n.bF)(f,{class:"upload-demo","auto-upload":!1,"show-file-list":!1,onChange:g},{default:(0,n.k6)((()=>[(0,n.bF)(A,{type:"primary",class:"upload-button"},{default:(0,n.k6)((()=>[(0,n.bF)(b,null,{default:(0,n.k6)((()=>[(0,n.bF)((0,d.R1)(C.Upload))])),_:1}),k[8]||(k[8]=(0,n.eW)(" 选择图片 "))])),_:1})])),_:1})]),a.value?((0,n.uX)(),(0,n.CE)("div",R,[k[19]||(k[19]=(0,n.Lk)("div",{class:"settings-header"},[(0,n.Lk)("h3",null,"水印设置")],-1)),(0,n.Lk)("div",x,[k[11]||(k[11]=(0,n.Lk)("span",{class:"setting-label"},"水印类型",-1)),(0,n.bF)(L,{modelValue:c.value,"onUpdate:modelValue":k[0]||(k[0]=e=>c.value=e),onChange:v},{default:(0,n.k6)((()=>[(0,n.bF)(w,{label:"single"},{default:(0,n.k6)((()=>k[9]||(k[9]=[(0,n.eW)("单一水印")]))),_:1}),(0,n.bF)(w,{label:"tiled"},{default:(0,n.k6)((()=>k[10]||(k[10]=[(0,n.eW)("铺满水印")]))),_:1})])),_:1},8,["modelValue"])]),(0,n.Lk)("div",V,[k[12]||(k[12]=(0,n.Lk)("span",{class:"setting-label"},"水印文字",-1)),(0,n.bF)(y,{modelValue:t.value,"onUpdate:modelValue":k[1]||(k[1]=e=>t.value=e),placeholder:"输入水印文字",onInput:v},null,8,["modelValue"])]),(0,n.Lk)("div",U,[k[13]||(k[13]=(0,n.Lk)("span",{class:"setting-label"},"水印颜色",-1)),(0,n.bF)(O,{modelValue:l.value,"onUpdate:modelValue":k[2]||(k[2]=e=>l.value=e),onChange:v},null,8,["modelValue"])]),"single"===c.value?((0,n.uX)(),(0,n.CE)("div",I,[k[14]||(k[14]=(0,n.Lk)("span",{class:"setting-label"},"水印位置",-1)),(0,n.bF)(D,{modelValue:o.value,"onUpdate:modelValue":k[3]||(k[3]=e=>o.value=e),placeholder:"选择位置",onChange:v},{default:(0,n.k6)((()=>[(0,n.bF)(j,{label:"左上角",value:"top-left"}),(0,n.bF)(j,{label:"右上角",value:"top-right"}),(0,n.bF)(j,{label:"左下角",value:"bottom-left"}),(0,n.bF)(j,{label:"右下角",value:"bottom-right"}),(0,n.bF)(j,{label:"居中",value:"center"})])),_:1},8,["modelValue"])])):(0,n.Q3)("",!0),"tiled"===c.value?((0,n.uX)(),(0,n.CE)("div",W,[k[15]||(k[15]=(0,n.Lk)("span",{class:"setting-label"},"水印间距",-1)),(0,n.bF)(P,{modelValue:p.value,"onUpdate:modelValue":k[4]||(k[4]=e=>p.value=e),min:50,max:200,onChange:v},null,8,["modelValue"])])):(0,n.Q3)("",!0),(0,n.Lk)("div",_,[k[16]||(k[16]=(0,n.Lk)("span",{class:"setting-label"},"水印角度",-1)),(0,n.bF)(P,{modelValue:m.value,"onUpdate:modelValue":k[5]||(k[5]=e=>m.value=e),min:-45,max:45,onChange:v},null,8,["modelValue"])]),(0,n.Lk)("div",B,[k[17]||(k[17]=(0,n.Lk)("span",{class:"setting-label"},"字体大小",-1)),(0,n.bF)(P,{modelValue:s.value,"onUpdate:modelValue":k[6]||(k[6]=e=>s.value=e),min:12,max:48,onChange:v},null,8,["modelValue"])]),(0,n.Lk)("div",K,[k[18]||(k[18]=(0,n.Lk)("span",{class:"setting-label"},"透明度",-1)),(0,n.bF)(P,{modelValue:i.value,"onUpdate:modelValue":k[7]||(k[7]=e=>i.value=e),min:.1,max:1,step:.1,onChange:v},null,8,["modelValue"])])])):(0,n.Q3)("",!0),a.value?((0,n.uX)(),(0,n.CE)("div",S,[k[21]||(k[21]=(0,n.Lk)("div",{class:"preview-header"},[(0,n.Lk)("h3",null,"预览效果")],-1)),(0,n.Lk)("div",Q,[(0,n.Lk)("img",{src:r.value,class:"preview-image"},null,8,T)]),(0,n.Lk)("div",X,[(0,n.bF)(A,{onClick:h,type:"primary",class:"download-button"},{default:(0,n.k6)((()=>[(0,n.bF)(b,null,{default:(0,n.k6)((()=>[(0,n.bF)((0,d.R1)(C.Download))])),_:1}),k[20]||(k[20]=(0,n.eW)(" 下载图片 "))])),_:1})])])):(0,n.Q3)("",!0),(0,n.Lk)("canvas",{ref_key:"canvas",ref:u,style:{display:"none"}},null,512)])}}};const j=(0,i.A)(O,[["__scopeId","data-v-3b8a592a"]]);var D=j,P=t(4232);const N={class:"contain"},H={class:"big-contain",key:"bigContainLogin"},z={class:"bform"},G={key:0,class:"errTips"},Y={key:1,class:"errTips"},q={class:"big-contain",key:"bigContainRegister"},M={class:"bform"},J={key:0,class:"errTips"},Z={class:"small-contain",key:"smallContainRegister"},$={class:"small-contain",key:"smallContainLogin"};function ee(e,a,t,o,s,i){return(0,n.uX)(),(0,n.CE)("div",{class:"login-register",style:(0,P.Tr)(s.background)},[(0,n.Lk)("div",N,[(0,n.Lk)("div",{class:(0,P.C4)(["big-box",{active:s.isLogin}])},[s.isLogin?((0,n.uX)(),(0,n.CE)("div",H,[a[9]||(a[9]=(0,n.Lk)("div",{class:"btitle"},"账户登录",-1)),(0,n.Lk)("div",z,[(0,n.bo)((0,n.Lk)("input",{type:"username",placeholder:"用户名","onUpdate:modelValue":a[0]||(a[0]=e=>s.form.username=e)},null,512),[[l.Jo,s.form.username]]),s.emailError?((0,n.uX)(),(0,n.CE)("span",G,"* 邮箱填写错误 *")):(0,n.Q3)("",!0),(0,n.bo)((0,n.Lk)("input",{type:"password",placeholder:"密码","onUpdate:modelValue":a[1]||(a[1]=e=>s.form.userpwd=e)},null,512),[[l.Jo,s.form.userpwd]]),s.emailError?((0,n.uX)(),(0,n.CE)("span",Y,"* 密码填写错误 *")):(0,n.Q3)("",!0)]),(0,n.Lk)("button",{class:"bbutton",onClick:a[2]||(a[2]=(...e)=>i.login&&i.login(...e))},"登录")])):((0,n.uX)(),(0,n.CE)("div",q,[a[11]||(a[11]=(0,n.Lk)("div",{class:"btitle"},"创建账户",-1)),(0,n.Lk)("div",M,[(0,n.bo)((0,n.Lk)("input",{type:"text",placeholder:"用户名","onUpdate:modelValue":a[3]||(a[3]=e=>s.form.username=e)},null,512),[[l.Jo,s.form.username]]),s.existed?((0,n.uX)(),(0,n.CE)("span",J,"* 用户名已经存在！ *")):(0,n.Q3)("",!0),(0,n.bo)((0,n.Lk)("input",{type:"password",placeholder:"密码","onUpdate:modelValue":a[4]||(a[4]=e=>s.form.userpwd=e)},null,512),[[l.Jo,s.form.userpwd]]),(0,n.bo)((0,n.Lk)("input",{type:"email",placeholder:"邮箱","onUpdate:modelValue":a[5]||(a[5]=e=>s.form.useremail=e)},null,512),[[l.Jo,s.form.useremail]]),a[10]||(a[10]=(0,n.Lk)("input",{type:"phone",placeholder:"电话"},null,-1))]),(0,n.Lk)("button",{class:"bbutton",onClick:a[6]||(a[6]=(...e)=>i.register&&i.register(...e))},"注册")]))],2),(0,n.Lk)("div",{class:(0,P.C4)(["small-box",{active:s.isLogin}])},[s.isLogin?((0,n.uX)(),(0,n.CE)("div",Z,[a[12]||(a[12]=(0,n.Lk)("div",{class:"stitle"},"你好，欢迎注册该平台!",-1)),a[13]||(a[13]=(0,n.Lk)("p",{class:"scontent"},null,-1)),(0,n.Lk)("button",{class:"sbutton",onClick:a[7]||(a[7]=(...e)=>i.changeType&&i.changeType(...e))},"注册")])):((0,n.uX)(),(0,n.CE)("div",$,[a[14]||(a[14]=(0,n.Lk)("div",{class:"stitle"},"欢迎回来!",-1)),a[15]||(a[15]=(0,n.Lk)("p",{class:"scontent"},"请登录你的账户",-1)),(0,n.Lk)("button",{class:"sbutton",onClick:a[8]||(a[8]=(...e)=>i.changeType&&i.changeType(...e))},"登录")]))],2)])],4)}t(4114);var ae=t(9122),te=t.n(ae),le={name:"login-register",data(){return{isLogin:!1,emailError:!1,passwordError:!1,existed:!1,form:{username:"",useremail:"",userpwd:""},background:{backgroundImage:"url("+t(4508)+")",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundColor:"#000",backgroundPosition:"center top"}}},methods:{changeType(){this.isLogin=!this.isLogin,this.form.username="",this.form.useremail="",this.form.userpwd=""},login(){const e=this;let a=te().stringify({username:e.form.username,password:e.form.userpwd});""!=e.form.username&&""!=e.form.userpwd?e.$axios({method:"post",url:"http://127.0.0.1:5000/login",data:a}).then((e=>{switch(console.log(e.data),e.data.status){case 0:this.jumpToHome();break;case-1:this.emailError=!0;break;case 1:this.passwordError=!0,alert("登录失败，密码或账号有误");break}})).catch((e=>{console.log(e)})):alert("填写不能为空！")},register(){const e=this;let a=te().stringify({username:e.form.username,email:e.form.useremail,password:e.form.userpwd});""!=e.form.username&&""!=e.form.useremail&&""!=e.form.userpwd?e.$axios({method:"post",url:"http://127.0.0.1:5000/register",data:a}).then((e=>{switch(e.data.status){case 0:alert("注册成功！"),this.changeType();break;case-1:this.existed=!0;break}console.log(e.data)})).catch((e=>{console.log(e)})):alert("填写不能为空！")},jumpToHome(){this.$router.push({name:"myhome"})}}};const ne=(0,i.A)(le,[["render",ee],["__scopeId","data-v-9fc0f8ca"]]);var oe=ne,se="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAA1BJREFUaEPNWe112zAMFDSJs0myAeUF4kzieJIkC1jaoNmk6iJGCz1JT6bwQRL0a/zXtIUDDocDBc0DPyGEQ9M0ZwB4pscAwNftdvschmGs9Vio9Ufx/1DwAPCb+f+RgFyv1/caz34kgA8AOElBIuLbMAyfXhAPA3A8Ht8R8awAICq9/VgAIYRnAPilAHgZhuH7JwM4AcAHFyAiPtVq5GoUmhWHVIfUhqgzKQ/XxH3fP3kzv/y+CoAQwjbbRAsp+AYRq3C/GgCG66TxUyWUz4iI1APueeCuQNd11Khixg0QF6+UugCEEFStT+C5uxLFACydTwh+OuLtiSIAlsanBj+fGz2qlA2gcvATBgC4lHqjLAC1aNM0TaxU1AvkjbInczIAh9rsGEWTuG3bU+SViqiUBKBy8KsHYiqabbVNAHHwVOq2bQ+a05QsBEeTzdKzWm9Spn+tQTPCHHQqgFjn5+k58bTrOkxVm5Qmne0IeahliidVQwQQ+RvS6zv7mwOAmjZFKqkacW9Yc0IDsE7ZOPhcKbWCiCsZ/7/2exFA13W0zxLXd4tHLgCqQIp5m/do2iF23kpaQVkAW/pwy4eysLscqOGtWBqyALbK0/f97kwhAAKn9oLVVxwbJACrwnAAZhUqstESn1OSwtGIy+60jFtaHKvUuiEBXBDxVVtqJFm1BiZHZ5Ee1uItNRwFR7dv842EtJmx3kdKimb4pCY+pExBQY0mns8AiWYaiLu1kpsD1DfaTZ5pJTRZkaqwNFsCiO++71+YOUCgSUpHy6G6ANCDOYu9bTYLhPeK0Q2A420clDagLGm1/FYNALvFXsqq1KSSVFvBT82dckg7s1iO7Rlu4Eh0+68VkDyRlFHOKqRYbS2BrgpwAWlNyQ0qa95YDHEBYLxLltfJtdkcmGIAgvqId/7Cefc1uwfAnfpYXI6bvUb2i1WIaV52oi4lF4adO/tFALjrdG3f5ZSqVvaLADDXLOq7rtxGt1Qn/j6rB+JGtHifYjNyA/YCcDXu/HC1X3IB5VbgDoDFZcmJWpXLAZEFIFYTCwAFIiwpriv1LcAsAMzinUyHWY22r1+TbuusamQBiB1lSgWEbevctu2f0pcaxRWIKPGKiO63jFaGre//Agtjsk8mz/P5AAAAAElFTkSuQmCC",ie="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAehJREFUWEfFl+FRwzAMhdVJgE1gEmASYBJgEmAS2ATy9SLfiyPFdpuj+VOu2NLn5ycpPdiFn8OF89spANdmdmtmfPJcmdnX/Penmf2MHGoE4NnM7iVxlgeA9+mfrG8+PQAEempGWi/oAmkBfMxyn5C/bHnZUmMLYI/kToEaN9EpMoA9k3teDHpXQ0QA9Z2zERlx/ogJ2cf6B0m6uo4agNL6rigfJ+e/zd9pCSKrl5yXJJ/qfqBRU6+CeMAdnxogkh7ZyoZBN9YAbOcwQIQAv0ECVWAw/1H+12rTwpCqQLSYvecoEF3pIqYCQKqGYeFmDXfKEcUtFaEAmM/N5LGp3aHeHkBFPvhXgOgaig9UgciArVbdeQuWxtYEe5egw3VfQQRwTgk6QFRdpReoAtHYTYdIr/bTKN/sLQoQSUWecIh0AmRDrSirALiVDXUpkgslFj28AUAM6p9D1U/aCVno98UiOiABtJW23nJ6XtsWvoqmoZP7qYHQV7KtK4m6niqw8lRU5+padyvfMdu9PWfTMfORQ6zmStZotCJG5kE2fAAIS3qr0ykE0vmpyyxPjDg00lutNuoNrT0KADgK+hvVirkVjA3IigfciK09DtB1da1gSuzvg+lp5sWo1vWriPUjAJ3Nb2zZxQH+AKmKciHf7CxPAAAAAElFTkSuQmCC",ue="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAYZJREFUWEdjZBhgwDjA9jMMfQe8v66hgB6Kgpo3HhAbshSFwOfb2vsZGBgckC17+lPpSNfdaXv//WNZsCBQkqBDaOOAe9NtGBgYFszzk0kkFBI0c8B/BoYD8/1kHEcdMBoCoyEwGgKjITDsQ+A/ug/Pf7I9uOBpjT3N64LPt3UaGBj+1w+IAz7f1nFgYPgPagtggPzrO2Fi1K2OP93SSmBgYLQHNUAYGRkwWkEgW7/+5b9QdWuVAdgF//83zvOXbaBKIvx0S3s+IyNDAiHDWu7Oe/L6l7QMSN08Pxmi2hpEKQL5npGRcT4uB/z9z/xk/tPaN5c/W5Lke5B5RDkApPDzbW2MFA8SB7UB5z+pUYD5nIGB4cE8PxlFQqEFkyfaAZ9uad+HxT3I0lc/pf9ufZ2ojGQxA7FZD9lxRDtg2+nKgoNvA4qRLUTzZeI8P5kFxPqc5BAAaUja+LiBgZERlvfBljEx/l84x1f2AKkWk+UAkKaE9c8ViGnvE+sgoqOAWANJVTfqAADKJBIwNHSRzwAAAABJRU5ErkJggg==",re={__name:"Index",setup(e){return(e,a)=>{const t=(0,n.g2)("el-menu-item"),l=(0,n.g2)("el-button"),o=(0,n.g2)("el-menu"),s=(0,n.g2)("el-header"),i=(0,n.g2)("router-view"),u=(0,n.g2)("el-main"),r=(0,n.g2)("el-footer"),c=(0,n.g2)("el-container");return(0,n.uX)(),(0,n.Wv)(c,null,{default:(0,n.k6)((()=>[(0,n.bF)(s,null,{default:(0,n.k6)((()=>[(0,n.bF)(o,{"default-active":e.$route.path,class:"el-menu-demo",mode:"horizontal",onSelect:e.handleSelect,router:!0},{default:(0,n.k6)((()=>[a[6]||(a[6]=(0,n.Lk)("img",{class:"logo",src:se},null,-1)),a[7]||(a[7]=(0,n.Lk)("text",{class:"text1"},"阿松图片大师",-1)),(0,n.bF)(t,{index:"/cut"},{default:(0,n.k6)((()=>a[1]||(a[1]=[(0,n.eW)("裁切图片")]))),_:1}),(0,n.bF)(t,{index:"/compress"},{default:(0,n.k6)((()=>a[2]||(a[2]=[(0,n.eW)("压缩图片")]))),_:1}),(0,n.bF)(t,{index:"/watermark"},{default:(0,n.k6)((()=>a[3]||(a[3]=[(0,n.eW)("添加水印")]))),_:1}),(0,n.bF)(t,{index:"/subtitle"},{default:(0,n.k6)((()=>a[4]||(a[4]=[(0,n.eW)("字幕生成器")]))),_:1}),(0,n.bF)(l,{type:"primary",class:"signin",onClick:a[0]||(a[0]=a=>e.$router.push("/signinup"))},{default:(0,n.k6)((()=>a[5]||(a[5]=[(0,n.eW)("登录")]))),_:1})])),_:1},8,["default-active","onSelect"])])),_:1}),(0,n.bF)(u,null,{default:(0,n.k6)((()=>[((0,n.uX)(),(0,n.Wv)(n.PR,{include:["ImageCut","ImageCompress","WaterMark","SubtitleGenerator"]},[(0,n.bF)(i)],1024))])),_:1}),(0,n.bF)(r,null,{default:(0,n.k6)((()=>a[8]||(a[8]=[(0,n.Lk)("a",{href:"https://github.com/GeniusWww",target:"_blank"},[(0,n.Lk)("img",{src:ie,alt:""})],-1),(0,n.Lk)("a",{href:"https://okjk.co/mWL1os",target:"_blank"},[(0,n.Lk)("img",{src:ue,alt:""})],-1)]))),_:1})])),_:1})}}};const ce=(0,i.A)(re,[["__scopeId","data-v-08e98f44"]]);var de=ce,pe=(t(8111),t(7588),t(1219));const me={class:"subtitle-generator"},ge={class:"content-container"},ve={class:"left-section"},ke={class:"panel"},be={class:"upload-section"},he={class:"preview-section"},Ae={class:"subtitle-input"},fe={class:"subtitle-settings"},we={class:"setting-item"},Le={class:"setting-item"},ye={class:"setting-item"},Ce={class:"setting-item"},Fe={class:"controls"},Ee={class:"right-section"},Re={class:"preview-panel"},xe={class:"result-section"},Ve=["src"],Ue={key:1,class:"empty-preview"};var Ie={__name:"SubtitleGenerator",setup(e){(0,n.pM)({name:"SubtitleGenerator"});const a=(0,d.KR)(""),t=(0,d.KR)(24),l=(0,d.KR)("#ffffff"),o=(0,d.KR)("Arial"),s=(0,d.KR)(40),i=(0,d.KR)(""),u=(0,d.KR)(null),r=[{value:"Arial",label:"Arial"},{value:"Helvetica",label:"Helvetica"},{value:"Times New Roman",label:"Times New Roman"},{value:"Courier New",label:"Courier New"},{value:"SimSun",label:"宋体"},{value:"Microsoft YaHei",label:"微软雅黑"}],c=e=>{const a=new FileReader;a.onload=e=>{u.value=e.target.result},a.readAsDataURL(e.raw)},p=()=>{if(!u.value)return void pe.nk.warning("请先上传图片");if(!a.value.trim())return void pe.nk.warning("请输入字幕文本");const e=document.createElement("canvas"),n=e.getContext("2d"),r=new Image;r.onload=()=>{const u=a.value.split("\n");n.font=`${t.value}px ${o.value}`,n.textAlign="center";const c=s.value,d=c*u.length;e.width=r.width,e.height=r.height+d,n.drawImage(r,0,0,r.width,r.height),n.fillStyle=l.value;const p=document.createElement("canvas"),m=p.getContext("2d");p.width=r.width,p.height=c;const g=Math.min(c,.15*r.height),v=r.height-g;m.drawImage(r,0,v,r.width,g,0,0,r.width,c),m.fillStyle="rgba(0, 0, 0, 0.6)",m.fillRect(0,0,p.width,p.height),u.forEach(((e,a)=>{const s=r.height+a*c;n.drawImage(p,0,s),a>0&&(n.strokeStyle="rgba(255, 255, 255, 0.3)",n.lineWidth=1,n.beginPath(),n.moveTo(0,s),n.lineTo(r.width,s),n.stroke()),n.font=`${t.value}px ${o.value}`,n.fillStyle=l.value,n.textAlign="center";const i=s+c/2;n.strokeStyle="#000",n.lineWidth=2,n.strokeText(e,r.width/2,i),n.fillText(e,r.width/2,i)})),i.value=e.toDataURL("image/png")},r.src=u.value},m=()=>{if(!i.value)return void pe.nk.warning("请先生成字幕图片");const e=document.createElement("a");e.download="subtitle_image.png",e.href=i.value,document.body.appendChild(e),e.click(),document.body.removeChild(e)};return(e,u)=>{const d=(0,n.g2)("el-button"),g=(0,n.g2)("el-upload"),v=(0,n.g2)("el-input"),k=(0,n.g2)("el-input-number"),b=(0,n.g2)("el-color-picker"),h=(0,n.g2)("el-option"),A=(0,n.g2)("el-select");return(0,n.uX)(),(0,n.CE)("div",me,[(0,n.Lk)("div",ge,[(0,n.Lk)("div",ve,[(0,n.Lk)("div",ke,[u[16]||(u[16]=(0,n.Lk)("h3",{class:"panel-title"},"图片上传",-1)),(0,n.Lk)("div",be,[(0,n.bF)(g,{class:"upload-button",action:"https://jsonplaceholder.typicode.com/posts/","on-change":c,"auto-upload":!1,"show-file-list":!0},{default:(0,n.k6)((()=>[(0,n.bF)(d,{class:"apple-button upload-btn",type:"primary"},{default:(0,n.k6)((()=>u[5]||(u[5]=[(0,n.eW)("上传图片")]))),_:1})])),_:1})]),(0,n.Lk)("div",he,[u[14]||(u[14]=(0,n.Lk)("div",{class:"panel-title-small"},"字幕文本",-1)),(0,n.Lk)("div",Ae,[(0,n.bF)(v,{type:"textarea",rows:5,placeholder:"请输入字幕文本，每行将作为一条字幕",modelValue:a.value,"onUpdate:modelValue":u[0]||(u[0]=e=>a.value=e)},null,8,["modelValue"])]),u[15]||(u[15]=(0,n.Lk)("div",{class:"panel-title-small"},"字幕设置",-1)),(0,n.Lk)("div",fe,[(0,n.Lk)("div",we,[u[6]||(u[6]=(0,n.Lk)("span",null,"字体大小",-1)),(0,n.bF)(k,{modelValue:t.value,"onUpdate:modelValue":u[1]||(u[1]=e=>t.value=e),min:12,max:48,step:2,"controls-position":"right"},null,8,["modelValue"]),u[7]||(u[7]=(0,n.Lk)("span",null,"px",-1))]),(0,n.Lk)("div",Le,[u[8]||(u[8]=(0,n.Lk)("span",null,"字体颜色",-1)),(0,n.bF)(b,{modelValue:l.value,"onUpdate:modelValue":u[2]||(u[2]=e=>l.value=e)},null,8,["modelValue"])]),(0,n.Lk)("div",ye,[u[9]||(u[9]=(0,n.Lk)("span",null,"字体样式",-1)),(0,n.bF)(A,{modelValue:o.value,"onUpdate:modelValue":u[3]||(u[3]=e=>o.value=e),placeholder:"请选择字体"},{default:(0,n.k6)((()=>[((0,n.uX)(),(0,n.CE)(n.FK,null,(0,n.pI)(r,(e=>(0,n.bF)(h,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),64))])),_:1},8,["modelValue"])]),(0,n.Lk)("div",Ce,[u[10]||(u[10]=(0,n.Lk)("span",null,"字幕高度",-1)),(0,n.bF)(k,{modelValue:s.value,"onUpdate:modelValue":u[4]||(u[4]=e=>s.value=e),min:30,max:100,step:5,"controls-position":"right"},null,8,["modelValue"]),u[11]||(u[11]=(0,n.Lk)("span",null,"px",-1))])]),(0,n.Lk)("div",Fe,[(0,n.bF)(d,{class:"apple-button generate-btn",type:"primary",onClick:p},{default:(0,n.k6)((()=>u[12]||(u[12]=[(0,n.eW)("生成字幕图片")]))),_:1}),i.value?((0,n.uX)(),(0,n.Wv)(d,{key:0,class:"apple-button download-btn",type:"success",onClick:m},{default:(0,n.k6)((()=>u[13]||(u[13]=[(0,n.eW)("下载图片")]))),_:1})):(0,n.Q3)("",!0)])])])]),(0,n.Lk)("div",Ee,[(0,n.Lk)("div",Re,[u[17]||(u[17]=(0,n.Lk)("h3",{class:"panel-title"},"预览",-1)),(0,n.Lk)("div",xe,[i.value?((0,n.uX)(),(0,n.CE)("img",{key:0,src:i.value,class:"result-image"},null,8,Ve)):((0,n.uX)(),(0,n.CE)("div",Ue))])])])])])}}};const We=(0,i.A)(Ie,[["__scopeId","data-v-72ecab41"]]);var _e=We;const Be=[{path:"/",name:"Index",component:de,children:[{path:"",redirect:"/subtitle"},{path:"/cut",name:"ImageCut",component:k},{path:"/compress",name:"ImageCompress",component:y},{path:"/watermark",name:"WaterMark",component:D},{path:"/subtitle",name:"SubtitleGenerator",component:_e}]},{path:"/signinup",name:"SigninOrup",component:oe}],Ke=(0,c.aE)({history:(0,c.LA)("/"),routes:Be});var Se=Ke,Qe=(t(4188),t(5835));const Te=(0,l.Ef)(r);Te.use(Qe.A),Te.use(Se);for(const[Xe,Oe]of Object.entries(C))Te.component(Xe,Oe);Te.mount("#app")}},a={};function t(l){var n=a[l];if(void 0!==n)return n.exports;var o=a[l]={exports:{}};return e[l].call(o.exports,o,o.exports,t),o.exports}t.m=e,function(){var e=[];t.O=function(a,l,n,o){if(!l){var s=1/0;for(c=0;c<e.length;c++){l=e[c][0],n=e[c][1],o=e[c][2];for(var i=!0,u=0;u<l.length;u++)(!1&o||s>=o)&&Object.keys(t.O).every((function(e){return t.O[e](l[u])}))?l.splice(u--,1):(i=!1,o<s&&(s=o));if(i){e.splice(c--,1);var r=n();void 0!==r&&(a=r)}}return a}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[l,n,o]}}(),function(){t.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(a,{a:a}),a}}(),function(){t.d=function(e,a){for(var l in a)t.o(a,l)&&!t.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:a[l]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){t.p="/"}(),function(){var e={524:0};t.O.j=function(a){return 0===e[a]};var a=function(a,l){var n,o,s=l[0],i=l[1],u=l[2],r=0;if(s.some((function(a){return 0!==e[a]}))){for(n in i)t.o(i,n)&&(t.m[n]=i[n]);if(u)var c=u(t)}for(a&&a(l);r<s.length;r++)o=s[r],t.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return t.O(c)},l=self["webpackChunkimagemaster"]=self["webpackChunkimagemaster"]||[];l.forEach(a.bind(null,0)),l.push=a.bind(null,l.push.bind(l))}();var l=t.O(void 0,[504],(function(){return t(5772)}));l=t.O(l)})();
//# sourceMappingURL=app.c223273b.js.map